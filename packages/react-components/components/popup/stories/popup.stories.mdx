import { BOTTOM_CENTER, BOTTOM_LEFT, BOTTOM_RIGHT, Popup, TOP_CENTER, TOP_LEFT, TOP_RIGHT } from "@orbit-ui/react-popup/src";
import { ControlledRedBox, RedBoxPopup } from "./components";
import { Installation, ReactComponentsLayout } from "@blocks/react-components";
import { Meta, Preview, Story } from "@storybook/addon-docs/blocks";
import { Props } from "@blocks";
import { array, select, withKnobs } from "@storybook/addon-knobs";
import { createComponentSection, paramsBuilder } from "@utils";
import Imports from "./imports.mdx";

<Meta
    title={createComponentSection("Popup")}
    parameters={paramsBuilder()
        .docsLayout(<ReactComponentsLayout sourcePath="/packages/react-components/components/popup/src" />)
        .build()}
/>

# Popup

## Installation

<Installation componentFolder="popup" imports={<Imports />} />

## Props

<Props
    componentsDefinitions={[
        { displayName: "Popup", component: Popup }
    ]}
/>

## Usage

### Default

A default popup.

<Preview>
    <Story name="default">
        <RedBoxPopup />
    </Story>
</Preview>

<Story
    name="knobs"
    decorators={[withKnobs]}
    parameters={paramsBuilder()
        .canvasLayout({ marginTop: "150px" })
        .showPanel()
        .selectedPanel("Knobs")
        .excludeFromDocs()
        .build()}
>
    <RedBoxPopup position={select("position", { TopLeft: TOP_LEFT, TopRight: TOP_RIGHT, TopCenter: TOP_CENTER, BottomLeft: BOTTOM_LEFT, BottomRight: BOTTOM_RIGHT, BottomCenter: BOTTOM_CENTER })} offsets={array("offsets", ["0px", "0px"])} />
</Story>

### Position

A popup can be anchored at different positions.

The available positions are: `TOP_LEFT`, `TOP_RIGHT`, `TOP_CENTER`, `BOTTOM_LEFT`, `BOTTOM_RIGHT` and `BOTTOM_CENTER`.

<Preview>
    <Story name="position">
        <RedBoxPopup position={TOP_LEFT} />
    </Story>
</Preview>

### Offsets

A popup can be offset from it's anchored position.

<Preview>
    <Story name="offsets">
        <RedBoxPopup offsets={["30px", "30px"]} />
    </Story>
</Preview>

<Story
    name="dont close on blur"
    parameters={paramsBuilder()
        .excludeFromDocs()
        .build()}
>
    <RedBoxPopup closeOnBlur={false} />
</Story>

### Controlled

A popup can handle `open` state in controlled mode.

<Preview>
    <Story name="controlled">
        <ControlledRedBox />
    </Story>
</Preview>
