import { AddIcon, WarningIcon } from "@react-components/icons";
import { IconLink, InnerIconLink, InnerTextLink, TextLink } from "@react-components/link";
import { Inline } from "@react-components/layout";
import { InstallReactComponents, Props, ReactComponentsLayout } from "@blocks";
import { Meta, Preview, Story } from "@storybook/addon-docs/blocks";
import { RefLogger, createComponentSection, paramsBuilder } from "@utils";
import { RouterLink } from "./RouterLink";
import { Text } from "@react-components/text";
import Imports from "./Imports.mdx";

<Meta
    title={createComponentSection("Link")}
    parameters={paramsBuilder()
        .canvasLayout({ width: "80%" })
        .docsLayout(<ReactComponentsLayout sourcePath="/packages/react-components/src/link/src" />)
        .build()}
/>

# Link

Use a link to navigate between pages, link to files, anchors or even for email addresses.

## Installation

<InstallReactComponents imports={<Imports />}/>

## Props

<Props
    componentsDefinitions={[
        { displayName: "TextLink", component: InnerTextLink },
        { displayName: "IconLink", component: InnerIconLink }
    ]}
/>

## Accessibility

Follow [WAI-ARIA design pattern for link](https://www.w3.org/TR/wai-aria-practices/#link).

## Slots

Support `"text"` and `"icon"` [slots](?path=/docs/getting-started-slots--page).

## Usage

### Default

A default link.

<Preview>
    <Story name="default">
        <TextLink href="#">Flight details</TextLink>
    </Story>
</Preview>

### Icon

A link can contain [icons](?path=/docs/materials-icons--page).

<Preview>
    <Story name="icon">
        <TextLink href="#">
            <Text>Flight details</Text>
            <WarningIcon />
        </TextLink>
    </Story>
</Preview>

### External

A link can indicate that his destination is an external resources. An external link will render with `target="_blank"` and `rel="noopener noreferrer"` attributes. These attributes values can be overrided by specifying a `target` or `rel` prop.

<Preview>
    <Story name="external">
        <TextLink external href="#">Flight details</TextLink>
    </Story>
</Preview>

### Size

A link can vary in size.

<Preview>
    <Story name="size">
        <Inline align="end">
            <TextLink size="sm" href="#">Flight details</TextLink>
            <TextLink href="#">Flight details</TextLink>
            <TextLink size="lg" href="#">Flight details</TextLink>
        </Inline>
    </Story>
</Preview>

### Color

A link can use a different color accent.

<Preview>
    <Story name="color">
        <Inline>
            <TextLink color="primary" href="#">Primary</TextLink>
            <TextLink color="secondary" href="#">Secondary</TextLink>
            <TextLink color="danger" href="#">Danger</TextLink>
        </Inline>
    </Story>
</Preview>

### Button

A link can be rendered as a button:

<Preview>
    <Story name="button">
        <TextLink as="button">Flight details</TextLink>
    </Story>
</Preview>

Or as any other component like a [React Router Link](https://reactrouter.com/web/api/Link):

<Preview>
    <Story name="react router link">
        <TextLink as={RouterLink} to="/flight-details">
            Flight details
        </TextLink>
    </Story>
</Preview>

## Icon link

A link content can be a single icon. An accessible name must be provided through `aria-label` prop. See [WCAG practices](https://www.w3.org/TR/WCAG20-TECHS/ARIA6.html).

<Preview>
    <Story name="icon link">
        <Inline align="end">
            <IconLink size="sm" aria-label="Add" href="#"><AddIcon /></IconLink>
            <IconLink aria-label="Add" href="#"><AddIcon /></IconLink>
            <IconLink size="lg" aria-label="Add" href="#"><AddIcon /></IconLink>
        </Inline>
    </Story>
</Preview>

<Story
    name="text link ref"
    parameters={paramsBuilder()
        .excludeFromDocs()
        .build()}
>
    <RefLogger>
        <TextLink href="#">Flight details</TextLink>
    </RefLogger>
</Story>

<Story
    name="icon link ref"
    parameters={paramsBuilder()
        .excludeFromDocs()
        .build()}
>
    <RefLogger>
        <IconLink href="#" aria-label="Add">
            <AddIcon />
        </IconLink>
    </RefLogger>
</Story>
