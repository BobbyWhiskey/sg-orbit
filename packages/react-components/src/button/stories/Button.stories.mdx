import { AddIcon, CheckIcon, EditIcon, IconGroup, InfoIcon, LightbulbIcon, WarningIcon } from "@react-components/icons";
import { Badge } from "@react-components/badge";
import { Button, ButtonGroup, IconButton, InnerButton, InnerButtonGroup, InnerIconButton, InnerToggleButton, InnerToggleIconButton, ToggleButton, ToggleIconButton } from "@react-components/button";
import { ControlledToggleButton } from "./ControlledToggleButton.sample";
import { FilePreview, InstallReactComponents, Props, ReactComponentsLayout } from "@blocks";
import { Meta, Preview, Story } from "@storybook/addon-docs/blocks";
import { RefLogger, createComponentSection, paramsBuilder } from "@utils";
import { Stack } from "@react-components/stack";
import CustomColorHover from "./CustomColorHover.mdx";
import Imports from "./Imports.mdx";

<Meta
    title={createComponentSection("Button")}
    parameters={paramsBuilder()
        .canvasLayout({ width: "80%" })
        .docsLayout(<ReactComponentsLayout sourcePath="/packages/react-components/src/button/src" />)
        .build()}
/>

# Button

A Button indicates a possible user action.

## Installation

<InstallReactComponents imports={<Imports />}/>

## Props

<Props
    componentsDefinitions={[
        { displayName: "Button", component: InnerButton },
        { displayName: "IconButton", component: InnerIconButton },
        { displayName: "ButtonGroup", component: InnerButtonGroup },
        { displayName: "ToggleButton", component: InnerToggleButton },
        { displayName: "ToggleIconButton", component: InnerToggleIconButton }
    ]}
/>

## Usage

### Default

A default button.

<Preview>
    <Story name="default">
        <Button>Cutoff</Button>
    </Story>
</Preview>

### Icon

A button can contain left or right [icons](?path=/docs/materials-icons--page).

<Preview>
    <Story name="icon">
        <Stack>
            <Button iconLeft={<LightbulbIcon />}>Cutoff</Button>
            <Button iconRight={<EditIcon />}>Cutoff</Button>
            <Button iconRight={<IconGroup><WarningIcon /><InfoIcon /></IconGroup>}>Cutoff</Button>
        </Stack>
    </Story>
</Preview>

### Badge

A button can contain a [badge](?path=/story/components-badge--default-story).

<Preview>
    <Story name="badge">
        <Stack>
            <Button badgeLeft={<Badge variant="dot" />}>Cutoff</Button>
            <Button badgeRight={<Badge>6</Badge>}>Cutoff</Button>
            <Button badgeLeft={<Badge variant="dot" />} badgeRight={<Badge>6</Badge>}>Cutoff</Button>
        </Stack>
    </Story>
</Preview>

### Loading

A button can show a loading indicator.

<Preview>
    <Story name="loading">
        <Button loading>Loading</Button>
    </Story>
</Preview>

### Size

A button can vary in size.

Can be set to: `"mini"`, `"tiny"`, `"small"`, `"large"` or omitted.

<Preview>
    <Story name="size">
        <Stack align="end">
            <Button size="mini">Cutoff</Button>
            <Button size="tiny">Cutoff</Button>
            <Button size="small">Cutoff</Button>
            <Button >Cutoff</Button>
            <Button size="large">Cutoff</Button>
        </Stack>
    </Story>
</Preview>

### Disabled

A button can be disabled.

<Preview>
    <Story name="disabled">
        <Button disabled>Cutoff</Button>
    </Story>
</Preview>

### Fluid

A button can take the width of its container.

<Preview>
    <Story name="fluid">
        <Button fluid>To infinity and beyond</Button>
    </Story>
</Preview>

### Circular

A button can be circular.

<Preview>
    <Story name="circular">
        <Stack align="end">
            <Button circular size="small">Aa</Button>
            <Button circular>Aa</Button>
            <Button circular size="large">Aa</Button>
        </Stack>
    </Story>
</Preview>

### Color

A button can use a different color accent.

<Preview>
    <Story name="color">
        <Stack>
            <Button color="primary">Primary</Button>
            <Button color="secondary">Secondary</Button>
        </Stack>
    </Story>
</Preview>

### Outline

A basic button have a subtle appearance.

<Preview>
    <Story name="outline">
        <Stack>
            <Button variant="outline">Default</Button>
            <Button variant="outline" color="primary">Primary</Button>
            <Button variant="outline" color="secondary">Secondary</Button>
        </Stack>
    </Story>
</Preview>

### Ghost

A ghost button is similar to a standard button, taking the same space as a standard button but doesn't have an visible background.

<Preview>
    <Story name="ghost">
        <Stack>
            <Button variant="ghost">Default</Button>
            <Button variant="ghost" color="primary">Primary</Button>
            <Button variant="ghost" color="secondary">Secondary</Button>
        </Stack>
    </Story>
</Preview>

### Link

A button can be rendered as a link:

<Preview>
    <Story name="as anchor">
        <Button as="a" href="https://sharegate.com" target="_blank">Cutoff</Button>
    </Story>
</Preview>

Or look like a link:

<Preview>
    <Story name="link">
        <Stack>
            <Button variant="link">Cutoff</Button>
            <Button variant="link" color="primary">Cutoff</Button>
            <Button variant="link" color="secondary">Cutoff</Button>
        </Stack>
    </Story>
</Preview>

### Custom color

A button can have a custom color.

<Preview>
    <Story name="custom color">
        <Button
            style={{
                backgroundColor: "#FFF6E7",
                color: "var(--marine-500)",
                boxShadow: "0px 0px 0px 1px #FEE9C3 inset"
            }}
        >
            Cutoff
        </Button>
    </Story>
</Preview>

<CustomColorHover />

### Icon button

A button content can be a single icon.

<Preview>
    <Story name="icon button">
        <Stack spacing={12}>
            <Stack align="end">
                <IconButton size="mini"><AddIcon /></IconButton>
                <IconButton size="tiny"><AddIcon /></IconButton>
                <IconButton size="small"><AddIcon /></IconButton>
                <IconButton><AddIcon /></IconButton>
                <IconButton size="large"><AddIcon /></IconButton>
            </Stack>
            <Stack align="end">
                <IconButton circular size="mini"><AddIcon /></IconButton>
                <IconButton circular size="tiny"><AddIcon /></IconButton>
                <IconButton circular size="small"><AddIcon /></IconButton>
                <IconButton circular><AddIcon /></IconButton>
                <IconButton circular size="large"><AddIcon /></IconButton>
            </Stack>
        </Stack>
    </Story>
</Preview>

## Button Group

Related buttons can be group together.

<Preview>
    <Story name="button group">
        <ButtonGroup>
            <Button variant="outline">Any</Button>
            <Button variant="outline" circular>1</Button>
            <Button variant="outline" circular>2</Button>
            <Button variant="outline" circular>3</Button>
            <Button variant="outline" circular>4+</Button>
        </ButtonGroup>
    </Story>
</Preview>

## Toggle Button

Offer a similar experience as a checkbox or radio with the appearance of a button.

<Preview>
    <Story name="toggle button">
        <Stack>
            <ToggleButton value="isActive" variant="outline" color="primary" size="mini">On</ToggleButton>
            <ToggleButton value="isActive" variant="outline" color="primary" size="tiny">On</ToggleButton>
            <ToggleButton value="isActive" variant="outline" color="primary" size="small">On</ToggleButton>
            <ToggleButton value="isActive" variant="outline" color="primary">On</ToggleButton>
            <ToggleButton value="isActive" variant="outline" color="primary" size="large">On</ToggleButton>
        </Stack>
    </Story>
</Preview>

### Icon Button

A toggle button content can be a single icon.

<Preview>
    <Story name="toggle icon button">
        <Stack>
            <ToggleIconButton value="isActive" variant="outline" color="primary" circular size="mini">
                <CheckIcon />
            </ToggleIconButton>
            <ToggleIconButton value="isActive" variant="outline" color="primary" circular size="tiny">
                <CheckIcon />
            </ToggleIconButton>
            <ToggleIconButton value="isActive" variant="outline" color="primary" circular size="small">
                <CheckIcon />
            </ToggleIconButton>
            <ToggleIconButton value="isActive" variant="outline" color="primary" circular>
                <CheckIcon />
            </ToggleIconButton>
            <ToggleIconButton value="isActive" variant="outline" color="primary" circular size="large">
                <CheckIcon />
            </ToggleIconButton>
        </Stack>
    </Story>
</Preview>

### Render props

A toggle button can update is content with a render props based on the selected state value.

<Preview>
    <Story name="toggle icon render props">
        <ToggleButton value="isActive">
            {
                ({ isSelected }) => {
                    return isSelected ? "On" : "Off"
                }
            }
        </ToggleButton>
    </Story>
</Preview>

### Controlled

A toggle button can handle `selected` state in controlled mode.

<FilePreview filePath="/button/stories/ControlledToggleButton">
    <ControlledToggleButton />
</FilePreview>

<Story
    name="autofocus delay"
    parameters={paramsBuilder()
        .excludeFromDocs()
        .build()}
>
    <Button autofocus autofocusDelay={500}>
        Cutoff
    </Button>
</Story>

<Story
    name="ref"
    parameters={paramsBuilder()
        .excludeFromDocs()
        .build()}
>
    <RefLogger>
        <Button>Cutoff</Button>
    </RefLogger>
</Story>

## API

To use an [API function](https://developer.mozilla.org/en-US/docs/Web/API/HTMLOrForeignElement#Methods), first get a [ref](https://reactjs.org/docs/refs-and-the-dom.html) on the button component, then call the API function.

Here's an example for the `focus` function:

```jsx dark
function MyComponent() {
    const ref = useRef();

    return (
        <div onFocus={() => { ref.focus(); }}>
            <Button ref={ref} />
        </div>
    );
}
```
