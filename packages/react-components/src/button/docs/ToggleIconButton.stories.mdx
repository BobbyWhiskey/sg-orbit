import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs/blocks";
import { CheckIcon, LightbulbIcon } from "@react-components/icons";
import { ComponentInfo, FileCanvas, RefLogger } from "@stories/components";
import { ControlledToggleIconButton } from "./ControlledToggleIconButton.sample";
import { Inline } from "@react-components/layout";
import { InnerToggleIconButton, ToggleIconButton } from "@react-components/button";
import { paramsBuilder } from "@stories/utils";

<Meta
    title="Buttons/ToggleIconButton"
    id="toggle-icon-button"
    component={InnerToggleIconButton}
    argTypes={{
        defaultChecked: {
            control: false
        }
    }}
/>

# ToggleIconButton

A toggle button with a single icon as content.

<ComponentInfo
    usage="import { Button } from @orbit-ui/react-components"
    githubPath="/packages/react-components/src/button/src"
/>

## Accessibility

An accessible name must be provided through `aria-label` prop. See [WCAG practices](https://www.w3.org/TR/WCAG20-TECHS/ARIA6.html).

## Usage

### Playground

Try how the component react to different props and data combinations.

<Canvas withSource="none">
    <Story name="playground">
        {args => (
            <InnerToggleIconButton {...args} aria-label="Activate">
                <CheckIcon />
            </InnerToggleIconButton>
        )}
    </Story>
</Canvas>

<ArgsTable story="playground" />

### Disabled

A toggle icon button can be disabled.

<Canvas>
    <Story name="disabled">
        <ToggleIconButton disabled aria-label="Activate">
            <CheckIcon />
        </ToggleIconButton>
    </Story>
</Canvas>

### Loading

A toggle icon button can show a loading indicator.

<Canvas>
    <Story name="loading">
        <ToggleIconButton loading aria-label="Activate">
            <CheckIcon />
        </ToggleIconButton>
    </Story>
</Canvas>

### Color

A toggle icon button can use a different color accent.

<Canvas>
    <Story name="color">
        <Inline>
            <ToggleIconButton color="primary" aria-label="Activate"><CheckIcon /></ToggleIconButton>
            <ToggleIconButton color="secondary" aria-label="Activate"><LightbulbIcon /></ToggleIconButton>
        </Inline>
    </Story>
</Canvas>

### Shape

A toggle icon button can use a different shape.

<Canvas>
    <Story name="shape">
        <Inline>
            <ToggleIconButton shape="circular" aria-label="Activate"><CheckIcon /></ToggleIconButton>
            <ToggleIconButton shape="rounded" aria-label="Activate"><LightbulbIcon /></ToggleIconButton>
        </Inline>
    </Story>
</Canvas>

### Outline

An outline toggle icon button have a subtle appearance.

<Canvas>
    <Story name="outline">
        <ToggleIconButton variant="outline" aria-label="Activate">
            <CheckIcon />
        </ToggleIconButton>
    </Story>
</Canvas>

### Size

A toggle icon button can vary in size.

<Canvas>
    <Story name="size">
        <Inline verticalAlign="end">
            <ToggleIconButton size="sm" aria-label="Activate"><CheckIcon /></ToggleIconButton>
            <ToggleIconButton aria-label="Activate"><CheckIcon /></ToggleIconButton>
        </Inline>
    </Story>
</Canvas>

### Render Props

A toggle icon button can update is content based on the `isChecked` value by providing a render prop function.

<Canvas>
    <Story name="toggle icon render props">
        <ToggleIconButton aria-label="Activate">
            {
                ({ isChecked }) => {
                    return isChecked ? <CheckIcon /> : <LightbulbIcon />
                }
            }
        </ToggleIconButton>
    </Story>
</Canvas>

### Controlled

A toggle icon button can handle `checked` state in controlled mode.

<FileCanvas filePath="/button/docs/ControlledToggleIconButton">
    <ControlledToggleIconButton />
</FileCanvas>

<Story
    name="ref"
    parameters={paramsBuilder()
        .excludeFromDocs()
        .build()}
>
    <RefLogger>
        <ToggleIconButton aria-label="Activate">
            <CheckIcon />
        </ToggleIconButton>
    </RefLogger>
</Story>

