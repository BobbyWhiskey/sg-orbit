import { AddIcon, CheckIcon, LightbulbIcon } from "@react-components/icons";
import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs/blocks";
import {
    Button,
    ButtonGroup,
    IconButton,
    InnerButton,
    InnerButtonGroup,
    InnerIconButton,
    InnerToggleButton,
    InnerToggleIconButton,
    ToggleButton,
    ToggleIconButton
} from "@react-components/button";
import { ComponentInfo, FileCanvas } from "@stories/components";
import { ControlledToggleButton } from "./ControlledToggleButton.sample";
import { Inline } from "@react-components/layout";
import { Text } from "@react-components/text";
import { paramsBuilder } from "@stories/utils";

<Meta
    title="Components/Button"
    id="button"
/>

# Button

A Button indicates a possible user action.

<ComponentInfo
    usage={"import { Button, IconButton, ToggleButton, ToggleIconButton, ButtonGroup } from \"@orbit-ui/react-components\""}
    ariaPath="#button"
    githubPath="/packages/react-components/src/button/src"
/>

## Usage

### Default

A default button.

<Canvas>
    <Story name="default">
        <Button>Cutoff</Button>
    </Story>
</Canvas>

### Icon

A button can contain [icons](?path=/docs/icon-gallery--page).

<Canvas>
    <Story name="icon">
        <Button>
            <LightbulbIcon />
            <Text>Cutoff</Text>
        </Button>
    </Story>
</Canvas>

### Right icon

*Non standard* right icons can be provided to handle special cases. However, think twice before adding right icons, left icons should be your go to.

<Canvas>
    <Story name="right icon">
        <Button>
            <Text>Cutoff</Text>
            <LightbulbIcon slot="right-icon" />
        </Button>
    </Story>
</Canvas>

### Size

A button can vary in size.

<Canvas>
    <Story name="size">
        <Inline verticalAlign="center">
            <Button size="sm">Cutoff</Button>
            <Button >Cutoff</Button>
        </Inline>
    </Story>
</Canvas>

### Disabled

A button can be disabled.

<Canvas>
    <Story name="disabled">
        <Button disabled>Cutoff</Button>
    </Story>
</Canvas>

### Loading

A button can show a loading indicator.

<Canvas>
    <Story name="loading">
        <Button loading>Loading</Button>
    </Story>
</Canvas>

### Fluid

A button can take the width of its container.

<Canvas>
    <Story name="fluid">
        <Button fluid>
            <LightbulbIcon />
            <Text>To infinity and beyond</Text>
        </Button>
    </Story>
</Canvas>

### Color

A button can use a different color accent.

<Canvas>
    <Story name="color">
        <Inline>
            <Button color="primary">Primary</Button>
            <Button color="secondary">Secondary</Button>
            <Button color="danger">Danger</Button>
        </Inline>
    </Story>
</Canvas>

### Shape

A button can use a different shape.

<Canvas>
    <Story name="shape">
        <Inline>
            <Button shape="pill">Cutoff</Button>
            <Button shape="circular">Aa</Button>
            <Button shape="rounded">Cutoff</Button>
        </Inline>
    </Story>
</Canvas>

### Outline

An outline button have a subtle appearance.

<Canvas>
    <Story name="outline">
        <Button variant="outline">Cutoff</Button>
    </Story>
</Canvas>

### Ghost

A ghost button is similar to a standard button, taking the same space as a standard button but doesn't have an visible background.

<Canvas>
    <Story name="ghost">
        <Button variant="ghost">Cutoff</Button>
    </Story>
</Canvas>

### Link

A button can be rendered as a link.

<Canvas>
    <Story name="as anchor">
        <Button as="a" href="https://sharegate.com" target="_blank">Cutoff</Button>
    </Story>
</Canvas>

## Icon button

A button content can be a single icon. An accessible name must be provided through `aria-label` prop. See [WCAG practices](https://www.w3.org/TR/WCAG20-TECHS/ARIA6.html).

<Canvas>
    <Story name="icon button">
        <Inline verticalAlign="center">
            <IconButton shape="circular" size="sm" aria-label="Add"><AddIcon /></IconButton>
            <IconButton shape="circular" aria-label="Add"><AddIcon /></IconButton>
        </Inline>
    </Story>
</Canvas>

## Button Group

Related buttons whose actions are related to each other can be group together. Usefull to handle actions in components like [form](?path=/docs/form--default-story).

<Canvas>
    <Story name="button group">
        <ButtonGroup>
            <Button variant="outline">No, thanks</Button>
            <Button variant="outline">Remind me later</Button>
            <Button>Rate Now</Button>
        </ButtonGroup>
    </Story>
</Canvas>

### Orientation

A button group can render his buttons vertically.

<Canvas>
    <Story name="vertical">
        <InnerButtonGroup orientation="vertical">
            <Button variant="outline">No, thanks</Button>
            <Button variant="outline">Remind me later</Button>
            <Button>Rate Now</Button>
        </InnerButtonGroup>
    </Story>
</Canvas>

### Alignment

A button group can change the alignment of his buttons.

<Canvas>
    <Story name="alignment">
        <InnerButtonGroup align="end">
            <Button variant="outline">No, thanks</Button>
            <Button variant="outline">Remind me later</Button>
            <Button>Rate Now</Button>
        </InnerButtonGroup>
    </Story>
</Canvas>

## Toggle Button

Offer a similar experience as a checkbox or radio with the appearance of a button.

<Canvas>
    <Story name="toggle button">
        <Inline>
            <ToggleButton variant="outline" color="primary" shape="circular">On</ToggleButton>
            <ToggleButton variant="outline" color="primary">
                <LightbulbIcon />
                <Text>Cutoff</Text>
            </ToggleButton>
        </Inline>
    </Story>
</Canvas>

### Toggle Icon Button

A toggle button content can be a single icon. An accessible name must be provided through `aria-label` prop. See [WCAG practices](https://www.w3.org/TR/WCAG20-TECHS/ARIA6.html).

<Canvas>
    <Story name="toggle icon button">
        <ToggleIconButton variant="outline" shape="circular" aria-label="Activate">
            <CheckIcon />
        </ToggleIconButton>
    </Story>
</Canvas>

### Render Props

A toggle button can update is content based on the `isChecked` value by providing a render prop function.

<Canvas>
    <Story name="toggle icon render props">
        <ToggleButton aria-label="Activate">
            {
                ({ isChecked }) => {
                    return isChecked ? "On" : "Off"
                }
            }
        </ToggleButton>
    </Story>
</Canvas>

### Controlled

A toggle button can handle `checked` state in controlled mode.

<FileCanvas filePath="/button/docs/ControlledToggleButton">
    <ControlledToggleButton />
</FileCanvas>

## API

### Button

<ComponentInfo
    usage={"import { Button } from \"@orbit-ui/react-components\""}
    slots={["icon", "text", "right-icon"]}
    compact
/>

<ArgsTable of={InnerButton} />

### IconButton

<ComponentInfo
    usage={"import { IconButton } from \"@orbit-ui/react-components\""}
    compact
/>

<ArgsTable of={InnerIconButton} />

### ToggleButton

<ComponentInfo
    usage={"import { ToggleButton } from \"@orbit-ui/react-components\""}
    slots={["icon", "text", "right-icon"]}
    compact
/>

<ArgsTable of={InnerToggleButton} />

### ToggleIconButton

<ComponentInfo
    usage={"import { ToggleIconButton } from \"@orbit-ui/react-components\""}
    compact
/>

<ArgsTable of={InnerToggleIconButton} />

### ButtonGroup

<ComponentInfo
    usage={"import { ButtonGroup } from \"@orbit-ui/react-components\""}
    compact
/>

<ArgsTable of={InnerButtonGroup} />

<Story
    name="playground - button"
    args={{
        children: "Cutoff"
    }}
    parameters={paramsBuilder()
        .component(InnerButton)
        .excludeFromDocs()
        .build()}
>
    {args =>
        <InnerButton {...args} />
    }
</Story>

<Story
    name="playground - icon button"
    parameters={paramsBuilder()
        .component(InnerIconButton)
        .excludeFromDocs()
        .build()}
>
    {args =>
        <InnerIconButton {...args}>
            <AddIcon />
        </InnerIconButton>
    }
</Story>

<Story
    name="playground - toggle button"
    args={{
        children: "Cutoff"
    }}
    parameters={paramsBuilder()
        .component(InnerToggleButton)
        .excludeFromDocs()
        .build()}
>
    {args =>
        <InnerToggleButton {...args} />
    }
</Story>

<Story
    name="playground - toggle icon button"
    parameters={paramsBuilder()
        .component(InnerToggleIconButton)
        .excludeFromDocs()
        .build()}
>
    {args =>
        <InnerToggleIconButton {...args}>
            <AddIcon />
        </InnerToggleIconButton>
    }
</Story>

<Story
    name="playground - button group"
    parameters={paramsBuilder()
        .component(InnerToggleButton)
        .excludeFromDocs()
        .build()}
>
    {args =>
        <ButtonGroup {...args}>
            <Button variant="outline" color="secondary">Reset</Button>
            <Button color="primary">Submit</Button>
        </ButtonGroup>
    }
</Story>
