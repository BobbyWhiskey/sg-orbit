import { Alert, AlertTemplate, CriticalAlert, InfoAlert, InnerAlert, SuccessAlert, WarningAlert } from "@react-components/alert";
import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs/blocks";
import { Button } from "@react-components/button";
import { ComponentInfo, FileCanvas } from "@stories/components";
import { Content, InnerContent } from "@react-components/view";
import { ControlledAlert } from "./ControlledAlert.sample";
import { EmailIcon } from "@react-components/icons";
import { Heading } from "@react-components/heading";
import { TextLink } from "@react-components/link";
import { paramsBuilder } from "@stories/utils";

<Meta
    title="Components/Alert"
    id="alert"
/>

# Alert

An alert is an element that displays a brief, important message in a way that attracts the user's attention without interrupting the user's task.

<ComponentInfo
    usage="import { Alert } from @orbit-ui/react-components"
    ariaPath="#alert"
    githubPath="/packages/react-components/src/alert/src"
/>

## Usage

### Default

A default alert.

<Canvas>
    <Story name="default">
        <Alert>Your email to <strong>booking@spacetravel.com</strong> has been sent!</Alert>
    </Story>
</Canvas>

### Icon

An alert can have an [icon](?path=/docs/icon-gallery--page).

<Canvas>
    <Story name="icon">
        <Alert>
            <EmailIcon />
            <Content>Your email to <strong>booking@spacetravel.com</strong> has been sent!</Content>
        </Alert>
    </Story>
</Canvas>

### Rich content

An alert can also accept rich content.

<Canvas>
    <Story name="rich content">
        <Alert>
            <EmailIcon />
            <Content>
                <Heading>booking@spacetravel.com</Heading>
                Your email has been sent! Tracking info available <TextLink href="#">here</TextLink>.
            </Content>
        </Alert>
    </Story>
</Canvas>

### Action

An alert can accept an accept [button](?path=/docs/components-button--default-story).

<Canvas>
    <Story name="action">
        <Alert>
            <EmailIcon />
            <Content>Your email to <strong>booking@spacetravel.com</strong> has been sent!</Content>
            <Button>Undo</Button>
        </Alert>
    </Story>
</Canvas>

### Dismissible

An alert can be dismissible by specifying an `onDismiss` handler.

<Canvas>
    <Story name="dismissible">
        <Alert onDismiss={() => {}}>
            <EmailIcon />
            <Content>Your email to <strong>booking@spacetravel.com</strong> has been sent!</Content>
            <Button>Undo</Button>
        </Alert>
    </Story>
</Canvas>

### Info

Use an info alert to notify a user of a change that's relevant for them to achieve their current goal.

<Canvas>
    <Story name="info">
        <InfoAlert onDismiss={() => {}}>
            <Content>Your email to <strong>booking@spacetravel.com</strong> has been sent!</Content>
            <Button>Undo</Button>
        </InfoAlert>
    </Story>
</Canvas>

### Success

Use a success alert to inform a user that an action has completed successfuly.

<Canvas>
    <Story name="success">
        <SuccessAlert onDismiss={() => {}}>
            <Content>Your email to <strong>booking@spacetravel.com</strong> has been sent!</Content>
            <Button>Undo</Button>
        </SuccessAlert>
    </Story>
</Canvas>

### Warning

Use a warning alert to help a user avoid an issue.

<Canvas>
    <Story name="warning">
        <WarningAlert onDismiss={() => {}}>
            <Content>We are having trouble contacting the email server.</Content>
            <Button>Retry</Button>
        </WarningAlert>
    </Story>
</Canvas>

### Critical

Use an error alert to help a user understand a critical issue at the system level.

<Canvas>
    <Story name="critical">
        <CriticalAlert onDismiss={() => {}}>
            <Content>Cannot contact email server.</Content>
            <Button>Retry</Button>
        </CriticalAlert>
    </Story>
</Canvas>

### Controlled

An alert can handle `show` state in controlled mode.

<FileCanvas filePath="/alert/docs/ControlledAlert">
    <ControlledAlert />
</FileCanvas>

## Props

### Alert

Generic Alert component.

<ComponentInfo
    usage="import { Alert } from @orbit-ui/react-components"
    slots={["icon", "content", "button"]}
    compact
/>

<ArgsTable of={InnerAlert} />

### InfoAlert

Alert component template for _info_ tone.

<ComponentInfo
    usage="import { InfoAlert } from @orbit-ui/react-components"
    slots={["content", "button"]}
    compact
/>

<ArgsTable of={AlertTemplate} />

### SuccessAlert

Alert component template for _success_ tone.

<ComponentInfo
    usage="import { SuccessAlert } from @orbit-ui/react-components"
    slots={["content", "button"]}
    compact
/>

<ArgsTable of={AlertTemplate} />

### WarningAlert

Alert component template for _warning_ tone.

<ComponentInfo
    usage="import { WarningAlert } from @orbit-ui/react-components"
    slots={["content", "button"]}
    compact
/>

<ArgsTable of={AlertTemplate} />

### CriticalAlert

Alert component template for _critical_ tone.

<ComponentInfo
    usage="import { CriticalAlert } from @orbit-ui/react-components"
    slots={["content", "button"]}
    compact
/>

<ArgsTable of={AlertTemplate} />

### Content

Placeholder component to define the *content* of an alert.

<ComponentInfo
    usage="import { Content } from @orbit-ui/react-components"
    compact
/>

<ArgsTable of={InnerContent} />

<Story
    name="playground"
    parameters={paramsBuilder()
        .component(InnerAlert)
        .excludeFromDocs()
        .build()}
>
    {args =>
        <Alert {...args}>
            Your email to <strong>booking@spacetravel.com</strong> has been sent!
        </Alert>
    }
</Story>
