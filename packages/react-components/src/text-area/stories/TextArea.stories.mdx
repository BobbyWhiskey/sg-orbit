import { HocWarning, InstallReactComponents, Props, ReactComponentsLayout } from "@blocks";
import { InnerTextArea, TextArea } from "@react-components/text-area";
import { Meta, Preview, Story } from "@storybook/addon-docs/blocks";
import { RefLogger, createComponentSection, paramsBuilder } from "@utils";
import Imports from "./Imports.mdx";

<Meta
    title={createComponentSection("TextArea")}
    parameters={paramsBuilder()
        .canvasLayout({ width: "80%" })
        .docsLayout(<ReactComponentsLayout semanticPath="/addons/text-area" />)
        .build()}
/>

# TextArea

A text area allow a user to enter and edit an extended text.

## Installation

<InstallReactComponents imports={<Imports />} />

## Props

<HocWarning componentName="TextArea" semanticPath="/addons/text-area" />

<Props
    componentsDefinitions={[
        { displayName: "TextArea", component: InnerTextArea }
    ]}
/>

## Usage

### Default

A default textarea.

<Preview>
    <Story name="default">
        <TextArea />
    </Story>
</Preview>

### Value

A textarea can have an value.

<Preview>
    <Story name="value">
        <TextArea value="If two pieces of the same type of metal touch in space they will permanently bond." />
    </Story>
</Preview>

### Disabled

A textarea can be disabled.

<Preview>
    <Story name="disabled">
        <TextArea disabled placeholder="Tell us more..." />
    </Story>
</Preview>

### Readonly

A textarea can be readonly.

<Preview>
    <Story name="readonly">
        <TextArea readOnly value="If two pieces of the same type of metal touch in space they will permanently bond." />
    </Story>
</Preview>

### Fluid

An textarea can take the width of its container.

<Preview>
    <Story name="fluid">
        <TextArea fluid placeholder="Tell us more..." />
    </Story>
</Preview>

### Size

A textarea can vary in size.

Can be set to: `"small"`, `"large"` or omitted.

<Preview>
    <Story name="size">
        <div className="flex items-end items-space-between">
            <TextArea size="small" placeholder="Tell us more..." fluid />
            <TextArea placeholder="Tell us more..." fluid />
            <TextArea size="large" placeholder="Tell us more..." fluid />
        </div>
    </Story>
</Preview>

### Rows

A textarea can have a default number of rows.

<Preview>
    <Story name="rows">
        <TextArea rows={6} placeholder="Tell us more..." />
    </Story>
</Preview>

### Error

A textarea can show that the data contains errors.

<Preview>
    <Story name="error">
        <TextArea error placeholder="Tell us more..." />
    </Story>
</Preview>

### Transparent

A textarea can be transparent.

<Preview>
    <Story name="transparent">
        <TextArea transparent placeholder="Tell us more..." />
    </Story>
</Preview>

<Story
    name="autofocus"
    parameters={paramsBuilder()
        .excludeFromDocs()
        .build()}
>
    <div className="flex items-space-between">
        <TextArea autofocus placeholder="Tell us more..." />
        <TextArea autofocus disabled placeholder="Tell us more..." />
    </div>
</Story>

<Story
    name="autofocus delay"
    parameters={paramsBuilder()
        .excludeFromDocs()
        .build()}
>
    <div className="flex items-space-between">
        <TextArea autofocus autofocusDelay={500} placeholder="Tell us more..." />
        <TextArea autofocus disabled autofocusDelay={500} placeholder="Tell us more..." />
    </div>
</Story>

<Story
    name="ref"
    parameters={paramsBuilder()
        .excludeFromDocs()
        .build()}
>
    <RefLogger component={<TextArea />} />
</Story>

## API

A few [API functions are available for a text area component](https://developer.mozilla.org/en-US/docs/Web/API/HTMLTextAreaElement#Methods). To use an API, first get a [ref](https://reactjs.org/docs/refs-and-the-dom.html) on the text area component, then call the API function.

Here's an example for the `focus` function:

```jsx dark
function MyComponent() {
    const ref = useRef();

    return (
        <div onFocus={() => { ref.focus(); }}>
            <TextArea ref={ref} />
        </div>
    );
}
```
