import { EditIcon } from "@react-components/icons";
import { FilePreview, InstallReactComponents, Props, ReactComponentsLayout } from "@blocks";
import { Inline } from "@react-components/layout";
import { InnerNumberInput, NumberInput } from "@react-components/input";
import { Meta, Preview, Story } from "@storybook/addon-docs/blocks";
import { RefLogger, createComponentSection, paramsBuilder } from "@utils";
import { RequiredAgeValidation } from "./RequiredAgeValidation.sample";
import Imports from "./NumberInputImports.mdx";

<Meta
    title={createComponentSection("NumberInput")}
    parameters={paramsBuilder()
        .canvasLayout({ width: "80%" })
        .docsLayout(<ReactComponentsLayout sourcePath="/packages/react-components/src/input/src" />)
        .build()}
/>

# NumberInput

A number input is used to let the user enter a number.

## Installation

<InstallReactComponents imports={<Imports />} />

## Props

<Props
    componentsDefinitions={[
        { displayName: "NumberInput", component: InnerNumberInput }
    ]}
/>

## Usage

### Default

A default number input.

<Preview>
    <Story name="default">
        <NumberInput placeholder="Age" />
    </Story>
</Preview>

### Label

A number input can be identified by a label.

<Preview>
    <Story name="label">
        <Inline>
            <NumberInput label="Age" />
            <NumberInput label="Age" required />
        </Inline>
    </Story>
</Preview>

### Value

A number input can have a value.

<Preview>
    <Story name="value">
        <Inline>
            <NumberInput defaultValue={18} placeholder="Age" />
            <NumberInput defaultValue={155.75} step={0.1} placeholder="Weight" />
        </Inline>
    </Story>
</Preview>

### Min / Max

A number input value can be forced between min & max boundaries.

<Preview>
    <Story name="min / max">
        <NumberInput min={15} max={30} defaultValue={18} placeholder="Age" />
    </Story>
</Preview>

### Icon

A number input can have a left [icon](?path=/docs/materials-icons--page).

<Preview>
    <Story name="icon">
        <Inline>
            <NumberInput iconLeft={<EditIcon />} placeholder="Age" />
        </Inline>
    </Story>
</Preview>

### Size

A number input can vary in size.

Can be set to: `"small"`, `"large"` or omitted.

<Preview>
    <Story name="size">
        <Inline align="end">
            <NumberInput size="small" placeholder="Age" />
            <NumberInput placeholder="Age" />
            <NumberInput size="large" placeholder="Age" />
        </Inline>
    </Story>
</Preview>

### Disabled

A number input can be disabled.

<Preview>
    <Story name="disabled">
        <NumberInput disabled placeholder="Age" />
    </Story>
</Preview>

### Readonly

A number input can be readonly.

<Preview>
    <Story name="readonly">
        <NumberInput readOnly value={18} />
    </Story>
</Preview>

### Loading

A number input can show that it is currently loading data.

<Preview>
    <Story name="loading">
        <NumberInput loading />
    </Story>
</Preview>

### Fluid

A number input can take the width of its container.

<Preview>
    <Story name="fluid">
        <NumberInput fluid placeholder="Age" />
    </Story>
</Preview>

### Message

A message can be displayed beneath a number input.

<Preview>
    <Story name="help">
        <Inline>
            <NumberInput help="How long ago are you born?" label="Age" fluid />
            <NumberInput invalidMessage="Are you a cyborg?" validationState="invalid" label="Age" defaultValue={200} fluid />
            <NumberInput validMessage="Accepted!" validationState="valid" label="Age" defaultValue={35} fluid />
        </Inline>
    </Story>
</Preview>

### Transparent

A text input can be transparent.

<Preview>
    <Story name="transparent">
        <NumberInput variant="transparent" placeholder="Age" />
    </Story>
</Preview>

### Validation

A number input can display a validation state to communicate to the user whether the current value is valid or invalid. Implement your own validation logic in your app and pass either "valid" or "invalid" to the number input via the `validationState` prop.

The example below illustrates how one would validate a required age value.

<FilePreview filePath="/input/stories/RequiredAgeValidation">
    <RequiredAgeValidation />
</FilePreview>

<Story
    name="ref"
    parameters={paramsBuilder()
        .excludeFromDocs()
        .build()}
>
    <RefLogger><NumberInput /></RefLogger>
</Story>
