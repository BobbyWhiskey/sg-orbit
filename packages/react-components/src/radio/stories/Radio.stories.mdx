import { Badge } from "../../badge";
import { ControlledRadioGroup } from "./ControlledRadioGroup.sample";
import { CustomGroup } from "./CustomGroup.sample";
import { FilePreview, InstallReactComponents, Props, ReactComponentsLayout } from "@blocks";
import { IconGroup, LightbulbIcon } from "@react-components/icons";
import { Inline } from "@react-components/layout";
import { InnerRadio, InnerRadioGroup, Radio, RadioGroup } from "@react-components/radio";
import { Meta, Preview, Story } from "@storybook/addon-docs/blocks";
import { RefLogger, createComponentSection, paramsBuilder } from "@utils";
import { ToggleButton } from "@react-components/button";
import Imports from "./Imports.mdx";

<Meta
    title={createComponentSection("Radio")}
    parameters={paramsBuilder()
        .docsLayout(<ReactComponentsLayout sourcePath="/packages/react-components/src/radio/src" />)
        .build()}
/>

# Radio

Radio group allow a user to select one option from a set.

## Installation

<InstallReactComponents imports={<Imports />} />

## Props

<Props
    componentsDefinitions={[
        { displayName: "Radio", component: InnerRadio },
        { displayName: "RadioGroup", component: InnerRadioGroup }
    ]}
/>

## Usage

### Default

A default radio group.

<Preview>
    <Story name="default">
        <RadioGroup>
            <Radio value="mars">Mars</Radio>
            <Radio value="jupiter">Jupiter</Radio>
            <Radio value="pluto">Pluto</Radio>
        </RadioGroup>
    </Story>
</Preview>

### Selected value

A radio group can have a selected value.

<Preview>
    <Story name="selected">
        <RadioGroup value="jupiter">
            <Radio value="mars">Mars</Radio>
            <Radio value="jupiter">Jupiter</Radio>
            <Radio value="pluto">Pluto</Radio>
        </RadioGroup>
    </Story>
</Preview>

### Disabled

A single radio can be disabled.

<Preview>
    <Story name="disabled radio">
        <RadioGroup>
            <Radio disabled value="mars">Mars</Radio>
            <Radio value="jupiter">Jupiter</Radio>
            <Radio value="pluto">Pluto</Radio>
        </RadioGroup>
    </Story>
</Preview>

Or the whole group.

<Preview>
    <Story name="disabled group">
        <RadioGroup disabled>
            <Radio value="mars">Mars</Radio>
            <Radio value="jupiter">Jupiter</Radio>
            <Radio value="pluto">Pluto</Radio>
        </RadioGroup>
    </Story>
</Preview>

### Readonly

A single radio can be readonly.

<Preview>
    <Story name="readonly radio">
        <RadioGroup>
            <Radio readOnly value="mars">Mars</Radio>
            <Radio value="jupiter">Jupiter</Radio>
            <Radio value="pluto">Pluto</Radio>
        </RadioGroup>
    </Story>
</Preview>

Or the whole group.

<Preview>
    <Story name="readonly group">
        <RadioGroup readOnly>
            <Radio value="mars">Mars</Radio>
            <Radio value="jupiter">Jupiter</Radio>
            <Radio value="pluto">Pluto</Radio>
        </RadioGroup>
    </Story>
</Preview>

### Icon

A radio can have [icons](?path=/docs/materials-icons--page) after his text.

<Preview>
    <Story name="icon">
        <RadioGroup>
            <Radio icon={<LightbulbIcon />} value="mars">Mars</Radio>
            <Radio icon={<IconGroup><LightbulbIcon /><LightbulbIcon /></IconGroup>} value="jupiter">Jupiter</Radio>
            <Radio value="pluto">Pluto</Radio>
        </RadioGroup>
    </Story>
</Preview>

### Badge

A radio can have a [badge](?path=/docs/components-badge--default-story) after his text.

<Preview>
    <Story name="badge">
        <RadioGroup>
            <Radio badge={<Badge>6</Badge>} value="mars">Mars</Radio>
            <Radio value="jupiter">Jupiter</Radio>
            <Radio badge={<Badge variant="inline">6</Badge>} value="pluto">Pluto</Radio>
        </RadioGroup>
    </Story>
</Preview>

### Reverse

A radio button can be to the left or to the right of his label.

<Preview>
    <Story name="reverse">
        <RadioGroup>
            <Radio reverse icon={<LightbulbIcon />} badge={<Badge>6</Badge>} value="mars">Mars</Radio>
            <Radio reverse value="jupiter">Jupiter</Radio>
            <Radio reverse value="pluto">Pluto</Radio>
        </RadioGroup>
    </Story>
</Preview>

### Size

A radio can vary in size.

Can be set on a single radio to: `"small"`, `"large"` or omitted.

<Preview>
    <Story name="size radio">
        <RadioGroup>
            <Radio size="small" value="mars" >Mars</Radio>
            <Radio value="jupiter">Jupiter</Radio>
            <Radio size="large" value="pluto">Pluto</Radio>
        </RadioGroup>
    </Story>
</Preview>

Or the whole group.

<Preview>
    <Story name="size group">
        <RadioGroup size="large">
            <Radio value="mars" >Mars</Radio>
            <Radio value="jupiter">Jupiter</Radio>
            <Radio value="pluton">Pluton</Radio>
        </RadioGroup>
    </Story>
</Preview>

### Direction

A radio group can change is direction from `column` to `row`.

<Preview>
    <Story name="direction">
        <RadioGroup direction="row">
            <Radio value="mars" >Mars</Radio>
            <Radio value="jupiter">Jupiter</Radio>
            <Radio value="pluton">Pluton</Radio>
        </RadioGroup>
    </Story>
</Preview>

### Render Props

A radio can update is content with a render props based on the state values.

<Preview>
    <Story name="render props">
        <RadioGroup>
            <Radio value="mars">Mars</Radio>
            <Radio value="jupiter">
                {
                    ({ isChecked }) => {
                        return isChecked ? "Selected" : "Jupiter";
                    }
                }
            </Radio>
            <Radio value="pluto">Pluto</Radio>
        </RadioGroup>
    </Story>
</Preview>

### Toggle Buttons

In somes cases, you might want a group of toggle buttons to behave like a radio group.

<Preview>
    <Story name="toggle buttons">
        <RadioGroup direction="row">
            <ToggleButton value="none" variant="outline">None</ToggleButton>
            <ToggleButton value="1" variant="outline" circular>1</ToggleButton>
            <ToggleButton value="2" variant="outline" circular>2</ToggleButton>
            <ToggleButton value="3" variant="outline" circular>3</ToggleButton>
            <ToggleButton value="4+" variant="outline" circular>4+</ToggleButton>
        </RadioGroup>
    </Story>
</Preview>

### Custom Components

In fact, any component implementing the `CheckableContext` can behave like a radio group.

<FilePreview filePath="/radio/stories/CustomGroup">
    <CustomGroup />
</FilePreview>

### Controlled

A radio group can handle `value` state in controlled mode.

<FilePreview filePath="/radio/stories/ControlledRadioGroup">
    <ControlledRadioGroup />
</FilePreview>

<Story
    name="autofocus"
    parameters={paramsBuilder()
        .excludeFromDocs()
        .build()}
>
    <Inline>
        <Radio autofocus>Mars</Radio>
        <Radio autofocus disabled>Mars</Radio>
    </Inline>
</Story>

<Story
    name="autofocus delay"
    parameters={paramsBuilder()
        .excludeFromDocs()
        .build()}
>
    <Inline>
        <Radio autofocus autofocusDelay={500}>Mars</Radio>
        <Radio autofocus disabled autofocusDelay={500}>Mars</Radio>
    </Inline>
</Story>

<Story
    name="ref"
    parameters={paramsBuilder()
        .excludeFromDocs()
        .build()}
>
    <RefLogger><Radio>Mars</Radio></RefLogger>
</Story>

## API

To use an [API function](https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement#Methods), first get a [ref](https://reactjs.org/docs/refs-and-the-dom.html) on the radio component, then call the API function.

Here's an example for the `focus` function:

```jsx dark
function MyComponent() {
    const ref = useRef();

    return (
        <div onFocus={() => { ref.focus(); }}>
            <Radio ref={ref} />
        </div>
    );
}
```
