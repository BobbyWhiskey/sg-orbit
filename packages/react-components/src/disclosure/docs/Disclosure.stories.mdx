import { Button } from "@react-components/button";
import { Content } from "@react-components/view";
import { ControlledDisclosure } from "./ControlledDisclosure.sample";
import { CustomDisclosureTrigger } from "./CustomDisclosureTrigger.sample";
import { Disclosure, InnerDisclosure } from "@react-components/disclosure";
import { FilePreview, ReactComponentsLayout } from "@blocks";
import { Fragment } from "react";
import { Meta, Preview, Props, Story } from "@storybook/addon-docs/blocks";
import { paramsBuilder } from "@utils";

<Meta
    title="Content|Disclosure"
    parameters={paramsBuilder()
        .canvasLayout({ width: "80%" })
        .docsLayout(<ReactComponentsLayout sourcePath="/packages/react-components/src/disclosure/src" />)
        .build()}
/>

# Disclosure

The disclosure component is used to create regions of content that can expand/collapse with a simple animation. It helps to hide content that's not immediately relevant to the user.

<dl>
    <div>
        <dt>usage</dt>
        <dd>import Disclosure from @orbit-ui/react-components</dd>
    </div>
</dl>

## Usage

### Render props

A disclosure component can update is content based on the `isOpen` value by providing a render prop function.

<Preview>
    <Story name="render props">
        <Disclosure>
            {({ isOpen }) => (
                <Fragment>
                    <Button color={isOpen ? "primary" : "secondary"}>
                        EVE Online
                    </Button>
                    <Content>Eve Online is a space-based, persistent world massively multiplayer online role-playing game (MMORPG) developed and published by CCP Games. Players of Eve Online can participate in a number of in-game professions and activities, including mining, piracy, manufacturing, trading, exploration, and combat (both player versus environment and player versus player). The game contains a total of 7,800 star systems that can be visited by players.</Content>
                </Fragment>
            )}
        </Disclosure>
    </Story>
</Preview>

### Custom trigger

The previous render props example could also be achieve by using a custom component. It's possible by using the `useDisclosureContext`.

<FilePreview filePath="/disclosure/docs/CustomDisclosureTrigger">
    <CustomDisclosureTrigger />
</FilePreview>

### Controlled

<FilePreview filePath="/disclosure/docs/ControlledDisclosure">
    <ControlledDisclosure />
</FilePreview>

## Props

<Props of={InnerDisclosure} />
